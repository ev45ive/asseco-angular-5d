<!-- Shift+Alt+F - Format Document -->

<div class="row">
  <div class="col">
    <app-playlist-list
      [items]="playlistsData"
      [selectedId]="selectedId"
      (selectedIdChange)="selectPlaylistById($event)"

      #listRef
    />
    <!-- {{ listRef.selectedIdChange.subscribe($event => selectPlaylistById($event)).unsubscribe()}} -->


    <button class="btn btn-primary float-end mt-5" (click)="showCreator()">
      Create New
    </button>
  </div>
  
  <div class="col">
    @if (mode === "details") {
      <app-playlist-detail [playlist]="selected" (edit)="showEditor()" />
    }

    @if (mode === "editor") {
      <app-playlist-editor
        [playlist]="selected"
        (cancel)="showDetails()"
        (save)="savePlaylist($event)"
      />
    }

    @if (mode === "creator") {
      <app-playlist-editor
        (cancel)="showDetails()"
        (save)="createPlaylist($event)"
      />
    }
  </div>
</div>
